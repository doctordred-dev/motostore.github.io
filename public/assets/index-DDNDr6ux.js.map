{"version":3,"file":"index-DDNDr6ux.js","sources":["../../src/components/CartItem/index.jsx","../../src/components/Cart/index.jsx"],"sourcesContent":["import React from 'react';\nimport {X} from 'lucide-react';\nimport styles from './CartItem.module.scss'\nimport {useDispatch} from \"react-redux\";\nimport {setSelectedMotorcycle, toggleFavorite} from \"../../redux/slices/motorcyclesSlice.js\";\nimport {setFirstModalOpen} from \"../../redux/slices/modalStatusSlice.js\";\nimport {motion} from \"framer-motion\";\nimport PropTypes from 'prop-types';\n\nconst CartItem = ({color, price, imageUrl, sku, name, position, quantity, onQuantityChange, specs}) => {\n\n    \n    const dispatch = useDispatch();\n\n    const handleToggleModal = () => {\n        dispatch(setSelectedMotorcycle({name, price, imageUrl, sku, color, specs}))\n        dispatch(setFirstModalOpen())\n    }\n\n    const handleRemove = () => {\n        dispatch(toggleFavorite({color, price, imageUrl, sku, name, specs}))\n    }\n\n    const handleDecrease = () => {\n        if (quantity > 1) {\n            onQuantityChange(sku, quantity - 1)\n        }\n    }\n\n    const handleIncrease = () => {\n        onQuantityChange(sku, quantity + 1);\n    }\n\n    return (\n        <>\n            {position === 'normal' ?\n\n                <motion.div\n                    initial={{ scale: 0.8, opacity: 0 }}\n                    animate={{ scale: 1, opacity: 1 }}\n                    exit={{ scale: 0.8, opacity: 0 }}\n                    transition={{ duration: 0.5, ease: 'easeInOut' }}\n\n                    className={styles.item}>\n                    <img className={styles.image} src={imageUrl} alt={name}/>\n                    <div className={styles.details}>\n                        <h3 className={styles.name}>{name}</h3>\n                        <p className={styles.sku}>Артикул: {sku}</p>\n                        <p className={styles.color}>Колір: {color}</p>\n                        <p className={styles.price}>Ціна: {price.toLocaleString('uk-UA')} грн</p>\n                        <p className={styles.specs}>Потужність: {specs.power} кн/c</p>\n                        <p className={styles.specs}>Об'єм двигуна: {specs.engineVolume} см³</p>\n                        <p className={styles.specs}>Макс. швидкість: {specs.maxSpeed} км/год</p>\n                    </div>\n\n                    <div className={styles.quantity}>\n                        <button onClick={handleDecrease}>-</button>\n                        <span>{quantity}</span>\n                        <button onClick={handleIncrease}>+</button>\n                    </div>\n\n                    <button onClick={handleToggleModal}\n                            className={styles.removeBtn}\n                            aria-label=\"Видалити\">\n                        <X size={20}/>\n                    </button>\n                </motion.div>\n\n                :\n\n                <motion.div\n                    initial={{ scale: 0.8, opacity: 0 }}\n                    animate={{ scale: 1, opacity: 1 }}\n                    exit={{ scale: 0.8, opacity: 0 }}\n                    transition={{ duration: 0.5, ease: 'easeInOut' }}\n\n                    className={styles.sideItem}>\n                    <img src={imageUrl} alt={name} className={styles.sideImage}/>\n                    <div className={styles.sideInfo}>\n                        <h4 className={styles.sideName}>{name}</h4>\n                        <p className={styles.sideColor}>Колір: {color}</p>\n                        <p className={styles.sidePrice}>Ціна: {price.toLocaleString('uk-UA')} ₴</p>\n                        <button className={styles.sideDelete}\n                                onClick={handleRemove}>Видалити\n                        </button>\n                    </div>\n                </motion.div>\n            }\n        </>\n    );\n};\n\nCartItem.propTypes = {\n    color: PropTypes.string.isRequired,\n    price: PropTypes.number.isRequired,\n    imageUrl: PropTypes.string.isRequired,\n    sku: PropTypes.string.isRequired,\n    name: PropTypes.string.isRequired,\n    specs: PropTypes.shape({\n        power: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n        engineVolume: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n        maxSpeed: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n    }),\n    position: PropTypes.oneOf(['normal', 'side']).isRequired,\n    quantity: PropTypes.number.isRequired,\n    onQuantityChange: PropTypes.func.isRequired\n};\n\nexport default CartItem;","import React from 'react';\nimport CartItem from \"../CartItem/index.jsx\";\nimport styles from './Cart.module.scss'\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {updateQuantity} from \"../../redux/slices/motorcyclesSlice.js\";\n\nconst Cart = ({position}) => {\n    const dispatch = useDispatch();\n\n    const favoritesMoto = useSelector(state => state.motorcycles.favoritesMoto)\n    const total = favoritesMoto.reduce((acc, item) => acc + item.price * (item.quantity || 1), 0)\n\n    const handleQuantityChange = (sku, newQuantity) => {\n        dispatch(updateQuantity({sku, quantity: newQuantity}))\n    };\n\n    return (\n        <>\n            {position === 'normal' ?\n                <div className={styles.cartPage}>\n                    <h2 className={styles.title}>Кошик</h2>\n                    {favoritesMoto.length > 0 ? (\n                        <>\n                            <div className={styles.cartItems}>\n                                {favoritesMoto.map(({color, price, imageUrl, name, sku, quantity = 1, specs}) => (\n                                    <CartItem\n                                        key={sku}\n                                        sku={sku}\n                                        color={color}\n                                        price={price}\n                                        imageUrl={imageUrl}\n                                        name={name}\n                                        position={position}\n                                        quantity={quantity}\n                                        onQuantityChange={handleQuantityChange}\n                                        specs={specs}\n                                    />\n                                ))}\n                            </div>\n                            <div className={styles.totalBlock}>\n                                <span>Разом:</span>\n                                <span className={styles.total}>{total.toLocaleString('uk-UA')} грн</span>\n                            </div>\n                            <button className={styles.accept}>Оформити замовлення</button>\n                        </>\n                    ) : (\n                        <p className={styles.empty}>Кошик порожній</p>\n                    )}\n                </div>\n\n                :\n\n                <div className={styles.sideCartWrapper}>\n                    <div className={styles.sideCartHeader}>\n                        <h2>Кошик</h2>\n                    </div>\n                    <div className={styles.sideCartItems}>\n                        {favoritesMoto.length > 0 ? (\n                            favoritesMoto.map(({color, price, imageUrl, name, sku}) => (\n                                <CartItem\n                                    key={sku}\n                                    sku={sku}\n                                    color={color}\n                                    price={price}\n                                    imageUrl={imageUrl}\n                                    name={name}\n                                    position={position}\n                                />\n                            ))\n                        ) : (\n                            <p className={styles.sideEmpty}>Кошик порожній</p>\n                        )}\n                    </div>\n                </div>\n            }\n        </>\n    )\n}\n\nexport default Cart;"],"names":["CartItem","color","price","imageUrl","sku","name","position","quantity","onQuantityChange","specs","dispatch","useDispatch","handleToggleModal","setSelectedMotorcycle","setFirstModalOpen","handleRemove","toggleFavorite","handleDecrease","handleIncrease","jsx","Fragment","jsxs","motion","styles","X","PropTypes","Cart","favoritesMoto","useSelector","state","total","acc","item","handleQuantityChange","newQuantity","updateQuantity"],"mappings":"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"}