{"version":3,"file":"index-C46uv17d.js","sources":["../../src/components/SingleItem/index.jsx"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useParams, useNavigate } from 'react-router';\nimport { motion } from 'framer-motion';\nimport classNames from 'classnames';\nimport Button from '../Button';\nimport Star from '../svg/star/index.jsx';\nimport { toggleLike, toggleFavorite, setSelectedMotorcycle } from '../../redux/slices/motorcyclesSlice';\nimport { setFirstModalOpen, setSecondModalOpen } from '../../redux/slices/modalStatusSlice';\nimport styles from './SingleItem.module.scss';\n\nconst SingleItem = () => {\n  const { sku } = useParams();\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  \n  const motorcycles = useSelector(state => state.motorcycles.data);\n  const motorcycle = motorcycles.find(moto => moto.sku === sku);\n  \n  useEffect(() => {\n    // Если мотоцикл не найден, перенаправляем на страницу мотоциклов\n    if (!motorcycle && motorcycles.length > 0) {\n      navigate('/motorcycles');\n    }\n    \n\n    if (motorcycle) {\n      dispatch(setSelectedMotorcycle(motorcycle));\n    }\n  }, [motorcycle, motorcycles, navigate, dispatch]);\n  \n\n  if (!motorcycle) {\n    return (\n      <div className={styles.loading}>\n        <h2>Завантаження...</h2>\n      </div>\n    );\n  }\n  \n  const handleGoBack = () => {\n    navigate('/motorcycles');\n  };\n  \n  const handleToggleLike = () => {\n    dispatch(toggleLike(motorcycle));\n  };\n  \n  const handleToggleCart = () => {\n    dispatch(toggleFavorite({\n      ...motorcycle,\n      specs: {\n        power: motorcycle.specs?.power || 'Н/Д',\n        engineVolume: motorcycle.specs?.engineVolume || 'Н/Д',\n        maxSpeed: motorcycle.specs?.maxSpeed || 'Н/Д'\n      }\n    }));\n  };\n  \n  return (\n    <motion.div \n      className={styles.singleItem}\n      initial={{ opacity: 0, y: 20 }}\n      animate={{ opacity: 1, y: 0 }}\n      exit={{ opacity: 0, y: -20 }}\n      transition={{ duration: 0.5 }}\n    >\n      <button className={styles.backButton} onClick={handleGoBack}>\n        ← Повернутися до списку\n      </button>\n      \n      <div className={styles.itemContainer}>\n        <div className={styles.imageContainer}>\n          <motion.img \n            src={motorcycle.imageUrl} \n            alt={motorcycle.name}\n            initial={{ scale: 0.9 }}\n            animate={{ scale: 1 }}\n            transition={{ duration: 0.5 }}\n          />\n          <div \n            className={styles.favSvg}\n            onClick={handleToggleLike}\n            style={{\n              backgroundColor: motorcycle.isLiked ? 'rgba(255, 0, 0, 0.2)' : 'rgba(0, 0, 0, 0.5)'\n            }}\n          >\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              viewBox=\"0 0 24 24\"\n              style={{\n                width: '20px',\n                height: '20px',\n                fill: motorcycle.isLiked ? '#ff3c00' : 'white',\n                transition: 'fill 0.2s ease'\n              }}\n            >\n              <path d=\"M12,17.27L18.18,21L16.54,13.97L22,9.24L14.81,8.62L12,2L9.19,8.62L2,9.24L7.45,13.97L5.82,21L12,17.27Z\"/>\n            </svg>\n          </div>\n        </div>\n        \n        <div className={styles.infoContainer}>\n          <motion.h1 \n            className={styles.title}\n            initial={{ opacity: 0, x: 20 }}\n            animate={{ opacity: 1, x: 0 }}\n            transition={{ duration: 0.5, delay: 0.2 }}\n          >\n            {motorcycle.name}\n          </motion.h1>\n          \n          <motion.div \n            className={styles.details}\n            initial={{ opacity: 0, x: 20 }}\n            animate={{ opacity: 1, x: 0 }}\n            transition={{ duration: 0.5, delay: 0.3 }}\n          >\n            <p className={styles.sku}>Артикул: {motorcycle.sku}</p>\n            <p className={styles.color}>Колір: {motorcycle.color}</p>\n            <p className={styles.price}>\n              {motorcycle.price.toLocaleString('uk-UA')} ₴\n            </p>\n          </motion.div>\n          \n          <motion.div \n            className={styles.description}\n            initial={{ opacity: 0, x: 20 }}\n            animate={{ opacity: 1, x: 0 }}\n            transition={{ duration: 0.5, delay: 0.4 }}\n          >\n            <h3>Опис:</h3>\n            <p>{motorcycle.description}</p>\n          </motion.div>\n          \n          <motion.div \n            className={styles.actions}\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.5, delay: 0.5 }}\n          >\n            <Button \n              type=\"button\"\n              onClick={handleToggleCart}\n              className={motorcycle.isFavorite ? styles.inCart : styles.notInCart}\n            >\n              {motorcycle.isFavorite ? 'Видалити з кошика' : 'Додати до кошика'}\n            </Button>\n          </motion.div>\n        </div>\n      </div>\n      \n      <motion.div \n        className={styles.specifications}\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ duration: 0.5, delay: 0.6 }}\n      >\n        <h2>Технічні характеристики</h2>\n        <div className={styles.specsGrid}>\n          <div className={styles.specItem}>\n            <h4>Тип двигуна</h4>\n            <p>{motorcycle.specs?.engineType} </p>\n          </div>\n          <div className={styles.specItem}>\n            <h4>Потужність</h4>\n            <p>{motorcycle.specs?.power} к.с.</p>\n          </div>\n          <div className={styles.specItem}>\n            <h4>Максимальна швидкість</h4>\n            <p>{motorcycle.specs?.maxSpeed} км/год</p>\n          </div>\n          <div className={styles.specItem}>\n            <h4>Об'єм двигуна</h4>\n            <p>{motorcycle.specs?.engineVolume} куб.см</p>\n          </div>\n          <div className={styles.specItem}>\n            <h4>Тип трансмісії</h4>\n            <p>{motorcycle.specs?.transmission}</p>\n          </div>\n          <div className={styles.specItem}>\n            <h4>Тип приводу</h4>\n            <p>{motorcycle.specs?.driveType}</p>\n          </div>\n        </div>\n      </motion.div>\n      \n      <motion.div \n        className={styles.relatedItems}\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ duration: 0.5, delay: 0.7 }}\n      >\n        <h2>Схожі моделі</h2>\n        <div className={styles.relatedGrid}>\n          {motorcycles\n            .filter(moto => moto.sku !== motorcycle.sku)\n            .slice(0, 3)\n            .map(moto => (\n              <div \n                key={moto.sku} \n                className={styles.relatedItem}\n                onClick={() => navigate(`/motorcycles/${moto.sku}`)}\n              >\n                <img src={moto.imageUrl} alt={moto.name} />\n                <h3>{moto.name}</h3>\n                <p>{moto.price.toLocaleString('uk-UA')} ₴</p>\n              </div>\n            ))}\n        </div>\n      </motion.div>\n    </motion.div>\n  );\n};\n\nexport default SingleItem;\n"],"names":["SingleItem","sku","useParams","navigate","useNavigate","dispatch","useDispatch","motorcycles","useSelector","state","motorcycle","moto","useEffect","setSelectedMotorcycle","jsx","styles","handleGoBack","handleToggleLike","toggleLike","handleToggleCart","toggleFavorite","_a","_b","_c","jsxs","motion","Button","_d","_e","_f"],"mappings":"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"}